name: 'OWASP Dependency-Check'
description: 'Github action to execute OWASP dependency check as part of a github workflow'
Author: '@tarsilla'
inputs:
  project:
    required: true
  path:
    required: true
  format:
    required: true
  out:
    required: true
    default: 'reports'
  args:
    required: false
runs:
  using: 'docker'
  image: 'docker://owasp/dependency-check-action:latest'
  args:
    - '--project'
    - '${{ inputs.project }}'
    - '--scan'
    - '$GITHUB_WORKSPACE/${{ inputs.path }}'
    - '--format' 
    - '${{ inputs.format }}'
    - '--out'
    - '$GITHUB_WORKSPACE/${{ inputs.out }}'
    - '--noupdate'
    - '--enableRetired'
    - '--failOnCVSS'
    - '7'
    - ${{ inputs.args }}